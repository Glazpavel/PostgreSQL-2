## 1.Открыть консоль и зайти по ssh на ВМ в ЯО/любое другое подключение
на тестовой БД в локально развернутом докере подулючился к БД через IDE DataGrip (Если Вы не против, мне так удобнее писать запросы). Открыл первую консоль

## 2. Открыть вторую консоль и также зайти по ssh на ту же ВМ в WB cloud или ЯО
Готово

## 3. Запустить везде psql из под пользователя postgres к одному кластеру ПГ

## 4. Сделать в первой сессии новую таблицу и наполнить ее данными
CREATE TABLE public.table_1 (id serial, value varchar(10));
INSERT INTO public.table_1 AS t (value)
VALUES ('test1'),('test2');

## 5. Посмотреть текущий уровень изоляции
SHOW TRANSACTION ISOLATION LEVEL;
> read committed

## 6. Начать новую транзакцию в обоех сессиях с дефолтным (не меняя) уровнем изоляции
BEGIN TRANSACTION;

## 7. В первой сессии добавить новую запись
INSERT INTO public.table_1 AS t (value)
VALUES ('test3');

## 8. Сделать запрос на выбор всех записей во второй сессии
SELECT *
FROM public.table_1 t;

| id | value |
| :--- | :--- |
| 1 | test1 |
| 2 | test2 |

## 9. Видите ли вы новую запись и если да то почему? После задания можете сверить правильный ответ с эталонным
Новой записи не вижу, так как у транзакции в первой консоли еще не было коммита

## 10. Завершить транзакцию в первом окне
COMMIT TRANSACTION;

## 11. Сделать запрос на выбор всех записей второй сессии
SELECT *
FROM public.table_1 t;

| id | value |
| :--- | :--- |
| 1 | test1 |
| 2 | test2 |
| 3 | test3 |

## 12. Видите ли вы новую запись и если да то почему?
Новую запись вижу, так как в первой коносоли коммит прошел, транзакция завершилась

## 13. Завершите транзакцию во второй сессии
COMMIT TRANSACTION;

## 14. Начать новые транзакции, но уже на уровне repeatable read в ОБЕИХ сессиях
BEGIN TRANSACTION;
SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;
SHOW TRANSACTION ISOLATION LEVEL;
> repeatable read

## 15. В первой сессии добавить новую запись
INSERT INTO public.table_1 AS t (value)
VALUES ('test4');

## 16. Сделать запрос на выбор всех записей во второй сессии
SELECT *
FROM public.table_1 t;

| id | value |
| :--- | :--- |
| 1 | test1 |
| 2 | test2 |
| 3 | test3 |

## 17. Видите ли вы новую запись и если да то почему?
Новой записи не вижу, так как у транзакции в первой консоли еще не было коммита

## 18. Завершить транзакцию в первом окне
COMMIT TRANSACTION;

## 19. Сделать запрос во выбор всех записей второй сессии
SELECT *
FROM public.table_1 t;

| id | value |
| :--- | :--- |
| 1 | test1 |
| 2 | test2 |
| 3 | test3 |

## 20. Видите ли вы новую запись и если да то почему?
Новой записи не вижу, так как вторая транзакция началась раньше коммита первой, а уровень изоляции repeatable read позволяет видеть результат транзакций, завершенных ранее начала транзакции 2